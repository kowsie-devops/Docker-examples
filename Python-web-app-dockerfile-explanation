This Dockerfile builds a Django application using Ubuntu, installs Python dependencies with layer caching optimization, exposes port 8000, and runs the app using Djangoâ€™s development server.â€

Dockerfile Explanation:

1ï¸âƒ£ Base Image
FROM ubuntu:22.04

What it does
Uses Ubuntu 22.04 LTS as the base OS for the container.

Why Ubuntu?
Stable, widely supported
Familiar package manager (apt)
Good for learning & debugging

ğŸ“Œ Interview Tip:
â€œFROM defines the base image; every Dockerfile must start with it.â€

ğŸ”¹ 2ï¸âƒ£ Set Working Directory
WORKDIR /app

What it does
Creates /app directory (if not exists)
All future commands run inside /app

Why use WORKDIR?
Avoids repeated cd /app
Cleaner and safer than RUN cd

ğŸ“Œ Interview Tip:
â€œWORKDIR persists across layers, unlike RUN cd.â€

ğŸ”¹ 3ï¸âƒ£ Install Python & Pip
RUN apt-get update && \
    apt-get install -y python3 python3-pip && \
    rm -rf /var/lib/apt/lists/*

What it does
Updates package list
Installs Python 3 and pip
Removes apt cache

Why clean apt cache?
Reduces image size
Best practice for production

ğŸ“Œ Interview Tip:
â€œCleaning apt cache reduces Docker image size.â€

ğŸ”¹ 4ï¸âƒ£ Copy Requirements File (Caching Optimization)
COPY requirements.txt .

What it does
Copies only requirements.txt into /app

Why copy this FIRST?
Docker layer caching
If app code changes, dependencies wonâ€™t reinstall

ğŸ“Œ Interview GOLD:
â€œSeparating dependency installation improves build performance.â€

ğŸ”¹ 5ï¸âƒ£ Install Python Dependencies
RUN pip3 install --no-cache-dir -r requirements.txt

What it does
Installs Django & other dependencies

Why --no-cache-dir?
Prevents pip cache
Smaller image size

ğŸ”¹ 6ï¸âƒ£ Copy Django Project
COPY devops .

What it does
Copies the Django project folder into /app

Assumption
manage.py is inside devops/

ğŸ”¹ 7ï¸âƒ£ Expose Application Port
EXPOSE 8000

What it does
Documents that app runs on port 8000

âš ï¸ Important
Does NOT open port
Port mapping happens at runtime (-p)

ğŸ“Œ Interview Tip:
â€œEXPOSE is documentation, not port binding.â€

ğŸ”¹ 8ï¸âƒ£ Start Django Server
CMD ["python3", "manage.py", "runserver", "0.0.0.0:8000"]

What it does
Starts Django development server
Binds to all network interfaces

Why 0.0.0.0?
Required for Docker networking
127.0.0.1 wonâ€™t work inside container

Why JSON array?
Proper signal handling

Best practice
ğŸ“Œ Interview Tip:
â€œExec form CMD handles signals better than shell form.â€

How to run this container?

1. Build image: docker build -t <dockerhub registry name>:V1
example:  docker build -t kowsie/docker:v1

2. docker images 

3. run:  docker run -p 8000:8000 -it kowsie/docker:v1

4. docker ps -a

5. docker start/stop/restart <container id>

6. docker push/pull kowsie/docker:v1

7. docker logs <container_id or name> or docker logs -f <container id>

Open in browser:  htpp://ec2ip:8000/demo/
